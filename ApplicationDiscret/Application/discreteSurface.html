<!DOCTYPE html>
<!--
	author : abisutti
	created : Fri, 18 Dec 2015 14:11:34 +0100
	modified : Fri, 18 Dec 2015 14:11:34 +0100
-->
<html lang="fr">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<title id="title" class="tr">Surface de révolution discrète</title>
		<link rel="icon" type="image/png" href="Styles/favicon.png"/>
		<!-- TODO Modifier title pour le mutilangue -->

		<!-- javascript imports -->
		<script type="text/javascript" src="Js/Utils/globalParameters.js"></script>
		<script type="text/javascript" src="Js/Utils/function.js"></script>
		<script type="text/javascript" src="Js/Utils/webglFunction.js"></script>
		<script type="text/javascript" src="Js/Utils/Util.js"></script>

		<script type="text/javascript" src="Js/Enum/AxisEnum.js"></script>
		<script type="text/javascript" src="Js/Enum/AttributeEnum.js"></script>
		<script type="text/javascript" src="Js/Enum/EquationTypeEnum.js"></script>
		<script type="text/javascript" src="Js/Enum/RenderingModeEnum.js"></script>
		<script type="text/javascript" src="Js/Enum/CubeStateEnum.js"></script>
		<script type="text/javascript" src="Js/Enum/MenuEntryEnum.js"></script>
		<script type="text/javascript" src="Js/Enum/DirectionEnum.js"></script>
		<script type="text/javascript" src="Js/Enum/DrawModeEnum.js"></script>
		<script type="text/javascript" src="Js/Enum/ConnexityEnum.js"></script>

		<script type="text/javascript" src="Js/Libraries/d3.js"></script>
		<script type="text/javascript" src="Js/Libraries/functionPlot.js"></script>
		<script type="text/javascript" src="Js/Libraries/math.js"></script>
		<script type="text/javascript" src="Js/Libraries/jquery.js"></script>
		<script type="text/javascript" src="Js/Libraries/jquery-ui.js"></script>

		<script type="text/javascript" src="Js/Libraries/jszip.js"></script>
		<script type="text/javascript" src="Js/Libraries/FileSaver.js"></script>
		<script type="text/javascript" src="Js/Libraries/webgl-debug.js"></script>

		<script type="text/javascript" src="Js/Objects/Range.js"></script>
		<script type="text/javascript" src="Js/Objects/Dimension.js"></script>
		<script type="text/javascript" src="Js/Objects/Equation.js"></script>
		<script type="text/javascript" src="Js/Objects/Camera.js"></script>
		<script type="text/javascript" src="Js/Objects/Vector.js"></script>
		<script type="text/javascript" src="Js/Objects/Matrix.js"></script>
		<script type="text/javascript" src="Js/Objects/Point.js"></script>
		<script type="text/javascript" src="Js/Objects/Voxel.js"></script>
		<script type="text/javascript" src="Js/Objects/Facet.js"></script>
		<script type="text/javascript" src="Js/Objects/Surface.js"></script>
		<script type="text/javascript" src="Js/Objects/Curve.js"></script>
		<script type="text/javascript" src="Js/Objects/FormulaCurve.js"></script>
		<script type="text/javascript" src="Js/Objects/ImplicitCurve.js"></script>
		<script type="text/javascript" src="Js/Objects/ExplicitCurve.js"></script>
		<script type="text/javascript" src="Js/Objects/DrawnCurve.js"></script>
		<script type="text/javascript" src="Js/Objects/GenericStructure.js"></script>
		<script type="text/javascript" src="Js/Objects/Repere.js"></script>
		<script type="text/javascript" src="Js/Objects/BoundingBox.js"></script>
		<script type="text/javascript" src="Js/Objects/Grid.js"></script>

		<script type="text/javascript" src="Js/Threads/AlgoWorker.js"></script>
		<script type="text/javascript" src="Js/Threads/ExplicitAlgo1Worker.js"></script>
		<script type="text/javascript" src="Js/Threads/ExplicitAlgo2Worker.js"></script>
		<script type="text/javascript" src="Js/Threads/ParametricAlgo1Worker.js"></script>

		<!-- Default objects -->
		<script type="text/javascript" src="Curves/Meridian/Line.js"></script>
		<script type="text/javascript" src="Curves/Meridian/Sinusoid.js"></script>

		<script type="text/javascript" src="Curves/Revolution/Lemniscate.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Circle.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Heart.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Curve1.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Curve2.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Curve3.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Curve4.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Curve5.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Curve6.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Curve7.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Curve8.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Curve9.js"></script>
		<script type="text/javascript" src="Curves/Revolution/Curve10.js"></script>

		<script type="text/javascript" src="Js/Shader/vertexShader.js"></script>
		<script type="text/javascript" src="Js/Shader/fragmentShader.js"></script>
		<script type="text/javascript" src="Js/Shader/vertexShader_repere.js"></script>
		<script type="text/javascript" src="Js/Shader/fragmentShader_repere.js"></script>
		<script type="text/javascript" src="Js/Shader/Shader.js"></script>
		<script type="text/javascript" src="Js/Shader/DefaultShader.js"></script>
		<script type="text/javascript" src="Js/Shader/RepereShader.js"></script>

		<script type="text/javascript" src="Js/Controllers/Controller.js"></script>
		<script type="text/javascript" src="Js/Controllers/Controller2D.js"></script>
		<script type="text/javascript" src="Js/Controllers/Controller2DMeridian.js"></script>
		<script type="text/javascript" src="Js/Controllers/Controller3D.js"></script>
		<script type="text/javascript" src="Js/Controllers/ControllerCamera.js"></script>

		<script type="text/javascript" src="Js/Functionalities/ModelGen.js"></script>
		<script type="text/javascript" src="Js/Functionalities/ModelCurve.js"></script>
		<script type="text/javascript" src="Js/Functionalities/ModelParameter.js"></script>
		<script type="text/javascript" src="Js/Functionalities/ModelDraw.js"></script>

		<script type="text/javascript" src="Js/Display/SurfaceRenderer.js"></script>
		<script type="text/javascript" src="Js/Display/GenericContainer.js"></script>
		<script type="text/javascript" src="Js/Display/Scene.js"></script>
		<script type="text/javascript" src="Js/Display/GenericViewer.js"></script>
		<script type="text/javascript" src="Js/Display/SurfaceViewer.js"></script>
		<script type="text/javascript" src="Js/Display/CurveViewer.js"></script>
		<script type="text/javascript" src="Js/Display/ParameterViewer.js"></script>

		<script type="text/javascript" src="Js/Interface/EntryData.js"></script>
		<script type="text/javascript" src="Js/Interface/UndoRedoAction.js"></script>
		<script type="text/javascript" src="Js/Interface/ListUndoRedoAction.js"></script>
		<script type="text/javascript" src="Js/Interface/Application.js"></script>
		<script type="text/javascript" src="Js/Interface/Application_Tools.js"></script>
		<script type="text/javascript" src="Js/Interface/Application_Controller.js"></script>
		<script type="text/javascript" src="Js/Interface/Application_Messages.js"></script>
		<script type="text/javascript" src="Js/Interface/Application_Interface.js"></script>
		<script type="text/javascript" src="Js/Interface/Application_Initialisation.js"></script>

		<script type="text/javascript" src="Js/Objects/N64.js"></script>

		<!-- Translation -->
		<script type="text/javascript" src="Js/Interface/Application_translate.js"></script>

		<!-- css imports -->
		<link rel="stylesheet" type="text/css" media="all" href="Styles/jquery-ui.css"/>
		<link rel="stylesheet" type="text/css" media="all" href="Styles/temp.css"/>
		<link rel="stylesheet" type="text/css" media="all" href="Styles/common.css"/>
		<link rel="stylesheet" type="text/css" media="all" href="Styles/general.css"/>
		<link rel="stylesheet" type="text/css" media="all" href="Styles/menus.css"/>
		<link rel="stylesheet" type="text/css" media="all" href="Styles/style.css">
		<link rel="stylesheet" type="text/css" media="all" href="Styles/surfaceView.css">


		<!-- Export 3D en PNG -->
		<!-- <script src="Export/Export_PNG/jquery.min.js"></script> -->
		<script src="Export/Export_PNG/d3.v2.js"></script>



	</head>
	<body>
		<!-- Menus -->
		<ul class="menus header">
			<li id="fileMenu" tabindex="1">
				<h1 key="m1" class="tr">Fichier</h1>
				<ul>
					<li title="Créer un nouveau modèle"
						onclick="" key="m11" class="tr">Nouveau</li>

					<li title="Ouvrir un modèle depuis un fichier sur cet ordinateur"
						onclick="this.firstElementChild.click()" key="m12" class="tr">
						<input type="file" id="i_file" style="display:none" >Ouvrir</input>
					</li>
					<li title="Enregistrer le modèle actuel"
						onclick="" key="m13" class="tr">Enregistrer</li>
				</ul>
			</li><!-- because inline-block put a small space between blocks
			--><li id="viewMenu" tabindex="2">
				<h1 key="m2" class="tr">Affichage</h1>
				<ul>
					<li title="Générer la surface dans la vue 3D" key="m21" class="tr"
						onclick="appli.surfaceView.show (true)">Générer</li>

					<li title="Centrer la caméra" key="m22" class="tr"
						onclick="">Centrer la caméra</li>

					<li title="Changer le point de vue" key="m23" class="tr"
						onclick="if (globalParam.perspectiveView) {
							this.innerHTML = 'Perspective';
						} else {
							this.innerHTML = 'Orthographique';
						}
						globalParam.perspectiveView = !globalParam.perspectiveView;
						appli.surfaceView.computeCamera ();
						appli.surfaceView.show ()">Orthographique</li>

					<li class="split"><hr/></li>


					<li title="Ajouter un N64 pour le debug" key="m24" class="tr"
						onclick="appli.surfaceView.container.addObject (n64); appli.surfaceView.show ()">Ajouter N64</li>
					<li title="Retirer le N64" key="m25" class="tr"
						onclick="appli.surfaceView.container.removeObjectByName ('n64'); appli.surfaceView.show ()">Supprimer N64</li>

					<li title="Changer la palette de couleur" key="m26" class="tr"
						onclick="if (globalParam.cubeColorDebug) {
							this.innerHTML = 'Couleur RVB';
						} else {
							this.innerHTML = 'Couleur blanche';
						}
						globalParam.cubeColorDebug = !globalParam.cubeColorDebug;
						appli.surfaceView.show (true)">Couleur RVB</li>
				</ul>
			</li><!-- because inline-block put a small space between blocks
			--><li id="toolsMenu" tabindex="3">
				<h1 key="m3" class="tr">Outils</h1>
				<ul>
					<li id="toolUndo"
						class="inaccessible tr"
						title="Annuler la dernière action effectuée" key="m31"
						onclick="">Annuler</li>

					<li id="toolRedo"
						class="inaccessible tr "
						title="Refaire la dernière action annulée" key="m32"
						onclick="">Refaire</li>

					<li class="split"><hr/></li>

					<li id="tool2D"
						class="submenu"
						title="Outils 2D">
						<h1 key="m33" class="tr">Outils 2D</h1>
						<ul>
							<li id="meridianChoice"
								class="inaccessible tr"
								title="Choix de la méridienne"
								onclick="" key="m331" class="tr">Méridiennes</li>

							<li id="curveOfRevolutionChoice"
								class="inaccessible"
								title="Choix de la courbe de révolution"
								onclick="" key="m332" class="tr">Courbes de révolution</li>

							<li class="split"><hr/></li>

							<li id="meridianFormula"
								class="inaccessible"
								title="Rentrer une formule pour la méridienne"
								onclick="" key="m333" class="tr">Formule méridienne</li>

							<li id="showSimpleParameter"
								class="inaccessible"
								title="Rentrer une formule pour la courbe de révolution"
								onclick="" key="m334" class="tr">Formule courbe de révolution</li>

							<li class="split"><hr/></li>

							<li id="handFreeDrawing"
								class="inaccessible"
								title="Dessiner à main levée"
								onclick="" key="m335" class="tr">Dessiner à main levée</li>

							<li class="split"><hr/></li>

							<li id="showSimpleParameter"
								class="inaccessible"
								title="Afficher les paramètres simples"
								onclick="" key="m336" class="tr">Paramètres simples</li>

							<li id="showAdvancedParameter"
								class="inaccessible"
								title="Afficher les paramètres avancés"
								onclick="" key="m337" class="tr">Paramètres avancés</li>


							<li class="split"><hr/></li>

							<li id="addMeridian"
								class="inaccessible"
								title="Ajout méridienne"
								onclick="" key="m338" class="tr">Ajout méridienne</li>

							<li id="addCurve"
								class="inaccessible"
								title="Ajout courbe de révolution"
								onclick="" key="m339" class="tr">Ajout courbe de révolution</li>

						</ul>
					</li>

					<li class="split"><hr/></li>
					<li id="tool3D"
						class="submenu"
						title="Outils 3D">
						<h1 key="m34" class="tr">Outils 3D</h1>
						<ul>

							<li id="connexity"
								class="inaccessible"
								title="Choix de connexité"
								onclick="" key="m341" class="tr"></li>

							<li id="dimension"
								class="inaccessible"
								title="Choix des dimensions"
								onclick="" key="m342" class="tr">Dimension</li>

							<li id="repereDisplay"
								class="inaccessible"
								title="Affichage du repère"
								onclick="" key="m343" class="tr">Afficher le repère</li>

							<li id="voxelSize"
								class="inaccessible"
								title="Taille des voxels"
								onclick="" key="m344" class="tr">Taille des voxels</li>

							<li id="multiSlice"
								class="inaccessible"
								title="Multicoupe"
								onclick="" key="m345" class="tr">Multicoupe</li>

						</ul>
					</li>

				</ul>
			</li><!-- because inline-block put a small space between blocks
			--><li id="exportMenu" tabindex="5">
				<h1 key="m4" class="tr">Export</h1>
				<ul>

					<li><a id="download" key="m41" class="tr">Télecharger comme image</a></li>

					<li class="split"><hr/></li>

					<li id="tool3D"
						class="submenu"
						title="Outils 3D">
						<h1 key="m42" class="tr">Export 3D</h1>
						<ul>
							<li key="m421" class="tr">Export X3D</li>
							<li key="m422" class="tr">Export impression 3D</li>
						</ul>
					</li>
				</ul>
			</li>

			</li><!-- because inline-block put a small space between blocks
			--><li id="helpMenu" tabindex="6">
				<h1 key="m5" class="tr">Aide</h1>
				<ul>
					<li key="m51" class="tr">Afficher l'aide</li>
					<li key="m52" class="tr">À propos</li>
				</ul>
			</li>

			<li id="translatemenu" tabindex="7">
			<h1>Traduction</h1>
				<ul>
					<!-- <div class="lang_switcher">-->
					<li id="en" class="lang">English</li>
					<li id="fr" class="lang">Français</li>
					<!-- </div> -->
				</ul>
			</li>
		</ul><!-- end menus -->


		<!-- Workspace -->
		<div id="workspace">
			<div id="curvesView">


<!--#########################################################################-->
<!-- Meridian view -->
<!--#########################################################################-->


				<div id="meridianView">
					<div id="meridianParam" class="paramPanel">
						<div id="listMeridianParameters"></div>
					</div>

					<canvas id="meridianCanvas" style="display:none"></canvas>
					<div id="meridianCanvas2"></div>

					<div id="meridianOption" class="optionPanel">
						<label for="meridianType">Mode&nbsp;:</label>
						<select id="meridianType" name="meridianType"
							onchange="appli.changeMeridianMode (this.value)">
							<option key="" class="tr" value="primitive">Prédéfinie</option>
							<option key="" class="tr" value="handFree">Dessin</option>
						</select>

						<span id="meridianModeOption">
							<select id="listMeridians" name="listMeridians"
								onchange="appli.changeMeridian (this.value)">
								<option value="Line" key="mer3" class="tr">Ligne</option>
								<option value="Sinusoid" key="mer4" class="tr">Sinusoid</option>
							</select>
						</span>
					</div>
				</div>


<!--#########################################################################-->
<!-- Revolution view -->
<!--#########################################################################-->


				<div id="revolView">
					<div id="revolParam" class="paramPanel">
						<div id="listRevolutionParameters"></div>
					</div>
					<canvas id="revolCanvas" style="display:none"></canvas>
					<div id="revolCanvas2"></div>

					<div id="revolOption" class="optionPanel">
						<select id="listRevolutions" name="listRevolutions"
							onchange="appli.changeRevol (this.value)">
							<option value="Circle" key="revol3" class="tr">Cercle</option>
							<option value="Heart" key="revol4" class="tr">Coeur</option>
							<option value="Lemniscate" key="revol5" class="tr">Lemniscate</option>
							<option value="Curve1" key="revol6" class="tr">Curve1</option>
							<option value="Curve2" key="revol7" class="tr">Curve2</option>
							<option value="Curve3" key="revol8" class="tr">Curve3</option>
							<option value="Curve4" key="revol9" class="tr">Curve4</option>
							<option value="Curve5" key="revol10" class="tr">Curve5</option>
							<option value="Curve6" key="revol11" class="tr">Curve6</option>
							<option value="Curve7" key="revol12" class="tr">Curve7</option>
							<option value="Curve8" key="revol13" class="tr">Curve8</option>
							<option value="Curve9" key="revol14" class="tr">Curve9</option>
							<option value="Curve10" key="revol15" class="tr">Curve10</option>
						</select>
					</div>
				</div>
			</div>


<!--#########################################################################-->
<!-- Surface view -->
<!--#########################################################################-->


			<div id="surfaceView">
				<div id="surfaceParam" class="paramPanel">
					<button onclick="appli.generateAndDraw (0)" key="surf1" class="tr">Générer</button>
					<button onclick="appli.generateAndDraw (1)" key="surf2" class="tr">Génération non optimisée</button>
					<hr/>
					<div class="wrapper">
						<label>Dimension X</label><br/>
						<div class="doubleSliders" name="X" id="slider-rangeX"></div>
						<input type="text" id="amountMinX"
							onKeyUp="appli.changeValueSlider('#slider-rangeX','#amountMinX')">
						-
						<input type="text" id="amountMaxX"
							onKeyUp="appli.changeValueSlider('#slider-rangeX','#amountMaxX')">
					</div>
					<div class="wrapper">
						<label>Dimension Y</label><br/>
						<div class="doubleSliders" name="Y" id="slider-rangeY"></div>
						<input type="text" id="amountMinY"
							onKeyUp="appli.changeValueSlider('#slider-rangeY','#amountMinY')">
						-
						<input type="text" id="amountMaxY"
							onKeyUp="appli.changeValueSlider('#slider-rangeY','#amountMaxY')">
					</div>
					<div class="wrapper">
						<label>Dimension Z</label><br/>
						<div class="doubleSliders" name="Z" id="slider-rangeZ"></div>
						<input type="text" id="amountMinZ"
							onKeyUp="appli.changeValueSlider('#slider-rangeZ','#amountMinZ')">
						-
						<input type="text" id="amountMaxZ"
							onKeyUp="appli.changeValueSlider('#slider-rangeZ','#amountMaxZ')">
					</div>
					<button onClick="appli.show (true)">Modifier</button>
				</div>

				<canvas id="surfaceCanvas"></canvas>

				<div id="surfaceOption" class="optionPanel">
					<div class="wrapper">
						<p class="multiLabel">Dimension&nbsp;:</p>
						<input id="dimx" type="number" value="31" min="1"/>
						<input id="dimy" type="number" value="31" min="1"/>
						<input id="dimz" type="number" value="31" min="1"/>
					</div>
					<!-- TODO traduire -->
					<div class="wrapper">
						<label key="" class="tr" for="connexityChoice">Connexité&nbsp;:</label>
						<select id="connexityChoice" name="connexityChoice"
							onchange="appli.surfaceView.unprepare (); appli.surfaceView.show ()">
							<option value="1">C26</option>
							<option value="2">C18</option>
							<option value="4">C6</option>
							<option value="31">+/-</option>
						</select>
					</div>

					<!-- TODO traduire -->
					<div class="wrapper">
						<label key="" class="tr" for="voxelRadius">Taille des voxels&nbsp;:</label>
						<input id="voxelRadius" type="number" name="voxelRadius"
							value="1" min="0" max="1" step="0.05"/>
					</div>
					<!-- TODO traduire -->
					<button key="" class="tr" onclick="appli.show (true)">Visualiser</button>
				</div>


<!--#########################################################################-->
<!-- End view -->
<!--#########################################################################-->


			</div>
		</div>


		<!-- State bar -->
		<div id="stateBar" class="footer">
			<p>Message...</p>
		</div>

		<script type="text/javascript">
			var appli = new Application ();

			var gl = appli.surfaceView.glContext;
			var n64 = new N64 (gl, 3, 3);
			//var s = n64.modelController.modelGen.surface
			//appli.surfaceView.container.addObject (n64);
			//globalParam.cubeColorDebug = true;

			appli.initAppli ();

			/**
			 * idée de courbe :
			 * liste complète : http://www.mathcurve.com/courbes2d/courbes2d.shtml
			 * http://www.mathcurve.com/courbes2d/dentelee/dentelee.shtml
			 *
			 * idéé révolution :
			 * - http://www.mathcurve.com/courbes2d/developpantedecercle/developpantedecercle.shtml
			 * - http://www.mathcurve.com/courbes2d/astroid/astroid.shtml
			 * - http://www.mathcurve.com/courbes2d/besace/besace.shtml
			 * - http://www.mathcurve.com/courbes2d/bouche/bouche.shtml
			 * - http://www.mathcurve.com/courbes2d/clairaut/clairaut.shtml
			 * - http://www.mathcurve.com/courbes2d/ornementales/ornementales.shtml
			 * - http://www.mathcurve.com/courbes2d/cornoid/cornoid.shtml
			 * - http://www.mathcurve.com/courbes2d/croixdemalte/croixdemalte.shtml
			 * - http://www.mathcurve.com/courbes2d/deltoid/deltoid.shtml
			 * - http://www.mathcurve.com/courbes2d/foliumdedurer/foliumdedurer.shtml
			 * - http://www.mathcurve.com/courbes2d/piriforme/piriforme.shtml
			 * - http://www.mathcurve.com/courbes2d/kieroide/kieroide.shtml
			 * - http://www.mathcurve.com/courbes2d/multicardioide/multicardioide.shtml
			 * - http://www.mathcurve.com/courbes2d/oeuf/oeufgranville.shtml
			 * - http://www.mathcurve.com/courbes2d/poisson/poisson.shtml
			 *
			 * idée méridienne :
			 * - http://www.mathcurve.com/courbes2d/serpentinedroite/serpentinedroite2.shtml
			 * - http://www.mathcurve.com/courbes2d/delaunay/delaunay.shtml
			 * - http://www.mathcurve.com/courbes2d/cubiccirculaire/cubiccirculaire.shtml
			 * - http://www.mathcurve.com/courbes2d/cissoid/cissoid.shtml
			 * - http://www.mathcurve.com/courbes2d/gauss/gauss.shtml
			 * - http://www.mathcurve.com/courbes2d/cubicdechasles/cubicdechasles.shtml
			 * - http://www.mathcurve.com/courbes2d/cubicsluze/cubicsluze.shtml
			 * - http://www.mathcurve.com/courbes2d/abdank/abdank.shtml
			 * - http://www.mathcurve.com/courbes2d/parabolesemicubic/parabolesemicubic.shtml
			 * -
			 */
			/*
			 * courbe 2 : voir http://www.mathcurve.com/courbes2d/trefle/trefle.shtml
			 * courbe 3, 8 : voir http://www.mathcurve.com/courbes2d/lissajous/lissajous.shtml
			 * courbe 4 : voir http://www.mathcurve.com/courbes2d/trisectricedeceva/trisectricedeceva.shtml
			 * 	ou http://www.mathcurve.com/courbes2d/scarabee/scarabee.shtml
			 * courbe 5 = hyperbole
			 * courbe 7 : voir http://www.mathcurve.com/courbes2d/salmon/salmon.shtml
			 */
			/// PNG test
			var surfaceCanvas = document.getElementById('surfaceCanvas'),
				ctx = surfaceCanvas.getContext('2d');


			function downloadsurfaceCanvas(link, surfaceCanvasId, filename) {
				link.href = appli.exportPng();
				link.download = filename;
			}


			document.getElementById('download').addEventListener('click', function() {
				downloadsurfaceCanvas(this, 'surfaceCanvas', 'curve.png');
			}, false);

		</script>
	</body>
</html>
